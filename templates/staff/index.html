<html style="height: auto; min-height: 100%;"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>后台管理平台</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="../../static/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../../static/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="../../static/bower_components/Ionicons/css/ionicons.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="../../static/dist/css/skins/_all-skins.min.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="../../static/bower_components/morris.js/morris.css">
    <!-- jvectormap -->
    <link rel="stylesheet" href="../../static/bower_components/jvectormap/jquery-jvectormap.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="../../static/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="../../static/bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="../../static/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../static/dist/css/AdminLTE.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    
        <!-- DataTables -->
        <link rel="stylesheet" href="../../static/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css">
        <link rel="stylesheet" href="../../static/plugins/bootstrap-treeview/css/bootstrap-treeview.css">
        <link rel="stylesheet" href="../../static/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">

        <link rel="stylesheet" href="../../static/plugins/ValidForm/ValidForm.css">
        <link rel="stylesheet" href="../../static/plugins/WebUploader/webuploader.css">
    
<style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style></head>
<body class="skin-blue sidebar-mini" style="height: auto; min-height: 100%;">

<div class="wrapper" style="height: auto; min-height: 100%;">

    <header class="main-header">
        <!-- Logo -->
        <a href="index2.html" class="logo">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><b>管</b>理</span>
            <!-- logo for regular state and mobile devices -->
            <span class="logo-lg">管理中心</span>
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
            <!-- Sidebar toggle button-->
            <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>

            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">

                    <!-- Notifications: style can be found in dropdown.less -->
                    <li class="dropdown notifications-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-bell-o"></i>
                            <span class="label label-warning">10</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="header">You have 10 notifications</li>
                            <li>
                                <!-- inner menu: contains the actual data -->
                                <ul class="menu">
                                    <li>
                                        <a href="#">
                                            <i class="fa fa-users text-aqua"></i> 5 new members joined today
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <i class="fa fa-warning text-yellow"></i> Very long description here that
                                            may not fit into the
                                            page and may cause design problems
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <i class="fa fa-users text-red"></i> 5 new members joined
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <i class="fa fa-shopping-cart text-green"></i> 25 sales made
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <i class="fa fa-user text-red"></i> You changed your username
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="footer"><a href="#">View all</a></li>
                        </ul>
                    </li>
                    <!-- Tasks: style can be found in dropdown.less -->

                    <!-- User Account: style can be found in dropdown.less -->
                    <li class="dropdown  user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img src="../../static/dist/img/user2-160x160.jpg" class="user-image" alt="User Image">
                            <span class="hidden-xs">admin</span>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- Menu Footer-->
                            <li class="mt5">
                                    <a href="../../static/logout" class="btn btn-default btn-flat">登出</a>

                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar" style="height: auto;">

            <ul class="sidebar-menu tree" data-widget="tree" id="menu"><li class="header">MAIN NAVIGATION</li><li class="treeview active menu-open"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span>基本信息设置</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../static/statute/service"><i class="fa fa-circle-o"></i>服务规约设置</a></li>
 <li class=""><a href="../../static/parking/setting"><i class="fa fa-circle-o"></i>停车费用设置</a></li>
 <li class=""><a href="../../static/materiel/list"><i class="fa fa-circle-o"></i>维修物料管理</a></li>
 <li class=""><a href="../../static/organization/department"><i class="fa fa-circle-o"></i>部门管理</a></li>
 <li class="active"><a href="../../templates/staff/index.html"><i class="fa fa-circle-o"></i>在岗人员管理</a></li>
 <li class=""><a href="../../templates/category/index.html"><i class="fa fa-circle-o"></i>商品分类管理</a></li>
 <li class=""><a href="../../templates/brand/index.html"><i class="fa fa-circle-o"></i>品牌管理</a></li>
</ul>
</li>
 <li class="treeview"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span>供应商管理</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../templates/supplier/index.html"><i class="fa fa-circle-o"></i>供应商管理</a></li>
</ul>
</li>
 <li class="treeview"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span>住户管理</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../static/tenant/index"><i class="fa fa-circle-o"></i>入住管理</a></li>
 <li class=""><a href=""><i class="fa fa-circle-o"></i>退房管理</a></li>
 <li class=""><a href=""><i class="fa fa-circle-o"></i>车位管理</a></li>
 <li class=""><a href=""><i class="fa fa-circle-o"></i>缴费管理</a></li>
 <li class=""><a href=""><i class="fa fa-circle-o"></i>访客管理</a></li>
</ul>
</li>
 <li class="treeview"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span>进销存管理</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../static/commodity/index"><i class="fa fa-circle-o"></i>商品信息管理</a></li>
 <li class=""><a href="../../static/commodity/storage"><i class="fa fa-circle-o"></i>入库管理</a></li>
 <li class=""><a href="../../static/commodity/outstock"><i class="fa fa-circle-o"></i>出库管理</a></li>
 <li class=""><a href="../../static/commodity/stock"><i class="fa fa-circle-o"></i>库存管理</a></li>
</ul>
</li>
 <li class="treeview"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span> 活动管理</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../static/activity/list"><i class="fa fa-circle-o"></i>活动列表</a></li>
</ul>
</li>
 <li class="treeview"> <a href="#"><i class="fa fa-dashboard"></i>
                        <span>权限管理</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a> <ul class="treeview-menu"> <li class=""><a href="../../static/system/userList"><i class="fa fa-circle-o"></i>用户管理</a></li>
 <li class=""><a href="../../static/system/roleList"><i class="fa fa-circle-o"></i>角色管理</a></li>
 <li class=""><a href="../../templates/system/res.html"><i class="fa fa-circle-o"></i>系统资源</a></li>
 <li class=""><a href="../../static/druid/"><i class="fa fa-circle-o"></i>监控中心</a></li>
 <li class=""><a href="../../static/app/index"><i class="fa fa-circle-o"></i>APP管理</a></li>
</ul>
</li>
</ul>
        </section>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper" style="min-height: 878px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>在岗人员管理</h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard">基本信息</i> </a></li>
            <li class="active">在岗人员管理</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="box box-primary">
            <div class="box-header">
                <div class="mailbox-controls">
                    <div class="pull-left">
                        <form class="form-inline">
                            <div class="form-group">
                                <label for="name">姓名&nbsp;</label>
                                <input type="text" id="name" name="name" class="form-control" placeholder="姓名">
                            </div>
                            <div class="form-group">
                                <label for="mobile">手机号码&nbsp;</label>
                                <input type="text" id="mobile" name="mobile" class="form-control" placeholder="手机号码">
                            </div>
                            <div class="form-group">
                                <label for="department">部门&nbsp;</label>
                            </div>
                            <div class="form-group">
                                <input type="text" id="department" readonly="readonly" name="department" data-name="treeview" data-idname="searchDepartmentId" class="form-control" placeholder="点击选择部门">
                                <input type="hidden" id="searchDepartmentId">
                                <div id="treeview" style="display: none;position: absolute;z-index: 999;"></div>
                            </div>
                        </form>
                    </div>
                    <div class="pull-right">
                        <a href="javascript:;" id="btnSearch" class="btn btn-default btn-sm" type="button"><i class="fa fa-search"></i>&nbsp;搜 索</a>
                        <a href="javascript:;" func="btnAdd" class="btn btn-default btn-sm"><i class="fa fa-plus"></i>&nbsp;新
                            增</a>
                        <a href="javascript:;" func="btnBatchDelete" class="btn btn-default btn-sm"><i class="fa fa-trash-o"></i>&nbsp;批量删除</a>
                        <a href="javascript:;" func="btnBatchDelete" class="btn btn-default btn-sm"><i class="fa fa-trash-o"></i>&nbsp;导 出</a>
                    </div>
                </div>
            </div>
            <div class="box-body">
                <div id="datalist_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="row"><div class="col-sm-6"></div><div class="col-sm-6"></div></div><div class="row"><div class="col-sm-12"><table id="datalist" class="table table-bordered table-striped table-hover dataTable no-footer" width="100%" role="grid" aria-describedby="datalist_info" style="width: 100%;">
                    <thead>
                    <tr role="row"><th width="50" class="sorting_disabled" rowspan="1" colspan="1" style="width: 40px;"><input id="selectAll" type="checkbox"></th><th width="100" class="sorting_disabled" rowspan="1" colspan="1" style="width: 77px;">姓名</th><th class="sorting_disabled" rowspan="1" colspan="1" style="width: 126px;">身份证号</th><th width="50" class="sorting_disabled" rowspan="1" colspan="1" style="width: 41px;">性别</th><th width="100" class="sorting_disabled" rowspan="1" colspan="1" style="width: 86px;">工号</th><th width="100" class="sorting_disabled" rowspan="1" colspan="1" style="width: 78px;">岗位</th><th width="100" class="sorting_disabled" rowspan="1" colspan="1" style="width: 79px;">岗位类型</th><th class="sorting_disabled" rowspan="1" colspan="1" style="width: 77px;">手机号码</th><th width="120" class="sorting_disabled" rowspan="1" colspan="1" style="width: 94px;">头像</th><th width="120" class="sorting_disabled" rowspan="1" colspan="1" style="width: 94px;">部门</th><th width="120" rowspan="1" colspan="1">状态</th><th width="100" rowspan="1" colspan="1">操作</th></tr>
                    </thead>
                    <tbody><tr role="row" class="odd"><td><input type="checkbox" name="id" value="3"></td><td>赵勋涛</td><td>61042419901212261X</td><td>男</td><td>160168</td><td>技术总监</td><td>主管</td><td>13989488973</td><td><a href="" title="点击查看大图" target="_blank"><img id="img_logo" src="" style="width: 50px;" alt="头像"></a></td><td>设计小分队</td><td><a href="javascript:;" func="btnState" data-id="3" data-state="1" title="点击禁用"><i class="fa fa-eye"></i>&nbsp;已启用</a></td><td><a href="javascript:;" func="btnEdit" data-id="3" class="active" title="编辑"><i class="fa fa-edit"></i>编辑</a> <a href="javascript:;" func="del" data-id="3" class="active" title="删除"><i class="fa fa-trash"></i>删除</a></td></tr></tbody>
                </table></div></div><div class="row"><div class="col-sm-5"><div class="dataTables_info" id="datalist_info" role="status" aria-live="polite">显示第 1 至 1 项结果，共 1 项</div></div><div class="col-sm-7"><div class="dataTables_paginate paging_simple_numbers" id="datalist_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="datalist_previous"><a href="#" aria-controls="datalist" data-dt-idx="0" tabindex="0">上页</a></li><li class="paginate_button active"><a href="#" aria-controls="datalist" data-dt-idx="1" tabindex="0">1</a></li><li class="paginate_button next disabled" id="datalist_next"><a href="#" aria-controls="datalist" data-dt-idx="2" tabindex="0">下页</a></li></ul></div></div></div></div>
            </div>
        </div>
    </section>

    <section class="modal fade" id="organization" style="display: none;" aria-labelledby="divStaffModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="width: 800px;">
            <div class="modal-content">
                <form id="frmInfo1" class="form-horizontal" method="post" data-validate="parsley">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title">添加在岗人员</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" id="id" name="id">
                        <div class="form-group">
                            <label class="col-lg-2 control-label">员工姓名<span class="text-red">*</span></label>
                            <div class="col-lg-3">
                                <input type="text" id="staffName" name="staffName" datatype="*" nullmsg="员工姓名不能为空" placeholder="员工姓名" class="bg-focus form-control parsley-validated" data-required="true">
                            <span class="Validform_checktip"></span></div>
                            <label class="col-lg-2 control-label">部门<span class="text-red">*</span></label>
                            <div class="col-lg-3">
                                <input type="text" id="departmentName" data-name="treeviewDepartment" data-idname="departmentId" readonly="readonly" name="departmentName" placeholder="点击选择部门" class="bg-focus form-control">
                                <input type="hidden" id="departmentId" name="departmentId">
                                <div id="treeviewDepartmenttreeviewDepartment" style="display: none;position: absolute;z-index: 999;"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">身份证号<span class="text-red">*</span></label>
                            <div class="col-lg-3">
                                <input type="text" id="staffIdentityCard" name="staffIdentityCard" placeholder="身份证号" class="bg-focus form-control parsley-validated" datatype="*" nullmsg="员工姓名不能为空" data-required="true">
                            <span class="Validform_checktip"></span></div>
                            <label class="col-lg-2 control-label">联系方式<span class="text-red">*</span></label>
                            <div class="col-lg-3">
                                <input type="text" id="staffTel" name="staffTel" placeholder="联系方式" class="bg-focus form-control parsley-validated" datatype="*" nullmsg="员工姓名不能为空" data-required="true">
                            <span class="Validform_checktip"></span></div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">年龄</label>
                            <div class="col-lg-3">
                                <input type="text" id="staffAge" name="staffAge" placeholder="年龄" class="bg-focus form-control">
                            </div>
                            <label class="col-lg-2 control-label">工龄</label>
                            <div class="col-lg-3">
                                <input type="text" id="staffJobAge" name="staffJobAge" placeholder="工龄" class="bg-focus form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">性别</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffSex" name="staffSex" style="width:auto">
                                    <option value="">请选择性别</option>
                                    <option value="1">男</option>
                                    <option value="0">女</option>
                                </select>
                            </div>
                            <label class="col-lg-2 control-label">学历</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffEducation" name="staffEducation" style="width:auto">
                                    <option value="">请选择学历</option>
                                    <option value="0">文盲</option>
                                    <option value="1">小学</option>
                                    <option value="2">初中</option>
                                    <option value="3">高中</option>
                                    <option value="4">专科</option>
                                    <option value="5">本科</option>
                                    <option value="6">研究生</option>
                                    <option value="7">博士</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">岗位级别</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffJobType" name="staffJobType" style="width:auto">
                                    <option value="">请选择岗位级别</option>
                                    <option value="1">普通员工</option>
                                    <option value="2">主管</option>
                                    <option value="3">经理</option>
                                </select>
                            </div>
                            <label class="col-lg-2 control-label">岗位</label>
                            <div class="col-lg-3">
                                <input type="text" id="staffJob" name="staffJob" placeholder="岗位" class="bg-focus form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">工号</label>
                            <div class="col-lg-3">
                                <input type="text" id="staffJobNo" name="staffJobNo" placeholder="工号" class="bg-focus form-control">
                            </div>
                            <label class="col-lg-2 control-label">政治面貌</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffPoliticalIdentity" name="staffPoliticalIdentity" style="width:auto">
                                    <option value="">请选择政治面貌</option>
                                    <option value="0">群众</option>
                                    <option value="1">党员</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">户籍性质</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffCensusNature" name="staffCensusNature" style="width:auto">
                                    <option value="">请选择户籍性质</option>
                                    <option value="1">本地城镇</option>
                                    <option value="2">本地农村</option>
                                    <option value="3">外地城镇</option>
                                    <option value="4">外地农村</option>
                                    <option value="0">未知</option>
                                </select>
                            </div>
                            <label class="col-lg-2 control-label">婚姻状况</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control parsley-validated" id="staffMarryState" name="staffMarryState" style="width:auto">
                                    <option value="">请选择婚姻状况</option>
                                    <option value="0">未婚</option>
                                    <option value="1">已婚</option>
                                    <option value="2">离异</option>
                                    <option value="3">丧偶</option>
                                    <option value="4">未知</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">合同期限</label>
                            <div class="col-lg-3">
                                <input type="text" id="staffContractStart" name="staffContractStart" placeholder="开始时间" class="bg-focus form-control datepicker_start" style="padding-right: 0px;">
                            </div>
                            <div class="col-lg-3">
                                <input type="text" id="staffContractEnd" name="staffContractEnd" placeholder="结束时间" class="bg-focus form-control datepicker_end" style="padding-right: 0px;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">头像</label>
                            <div class="col-lg-3">
                                <a id="a_logo" style="display: none;" href="" title="点击查看大图" target="_blank">
                                    <img id="img_logo" src="" style="width: 100px;" alt="头像">
                                </a>
                                <div style="margin-top: 10px">
                                    <a class="btn btn-success" href="javascript:;" id="uploadImage">上传头像</a>
                                </div>
                                <input type="hidden" name="staffAvatar" value="">
                            </div>
                            <label class="col-lg-2 control-label"></label>
                            <div class="col-lg-3">
                                <label>
                                    <input id="staffSocialSecurity" name="staffSocialSecurity" class="staff_checkbox" type="checkbox">社保
                                </label>
                                <label>
                                    <input id="staffProvidentFund" name="staffProvidentFund" class="staff_checkbox" type="checkbox">公积金
                                </label>
                                <label>
                                    <input id="staffLabourUnion" name="staffLabourUnion" class="staff_checkbox" type="checkbox">工会
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">家庭住址</label>
                            <div class="col-lg-8">
                                <div id="region"><select id="staffProvinceCode" name="staffProvinceCode" class="form-control region_seclect"><option value="">选择省份</option><option value="110000">北京</option><option value="120000">天津</option><option value="130000">河北省</option><option value="140000">山西省</option><option value="150000">内蒙古自治区</option><option value="210000">辽宁省</option><option value="220000">吉林省</option><option value="230000">黑龙江省</option><option value="310000">上海</option><option value="320000">江苏省</option><option value="330000">浙江省</option><option value="340000">安徽省</option><option value="350000">福建省</option><option value="360000">江西省</option><option value="370000">山东省</option><option value="410000">河南省</option><option value="420000">湖北省</option><option value="430000">湖南省</option><option value="440000">广东省</option><option value="450000">广西壮族自治区</option><option value="460000">海南省</option><option value="500000">重庆</option><option value="510000">四川省</option><option value="520000">贵州省</option><option value="530000">云南省</option><option value="540000">西藏自治区</option><option value="610000">陕西省</option><option value="620000">甘肃省</option><option value="630000">青海省</option><option value="640000">宁夏回族自治区</option><option value="650000">新疆维吾尔自治区</option><option value="710000">台湾省</option><option value="810000">香港特别行政区</option><option value="820000">澳门特别行政区</option></select></div>
                                <input type="text" id="staffAddress" name="staffAddress" class="bg-focus form-control" value="" placeholder="详细地址" style="margin-top: 10px;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">备注</label>
                            <div class="col-lg-8">
                                <textarea class="form-control" rows="3" id="remark" name="remark" placeholder="备注"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">状态</label>
                            <div class="col-lg-3">
                                <select class="bg-focus form-control" id="state" name="state" style="width:auto">
                                    <option value="">请选择状态</option>
                                    <option value="2" selected="selected">正常</option>
                                    <option value="1">禁用</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        <button id="btnSaveStaff" type="submit" class="btn btn-primary">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </section>
</div>
    <!-- /.content-wrapper -->
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <b>Version</b> 2.4.0
        </div>
        <strong>Copyright © 2014-2016 <a href="https://adminlte.io">Almsaeed Studio</a>.</strong> All rights
        reserved.
    </footer>
    <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->
<!-- jQuery 3 -->
<script src="../../static/bower_components/jquery/dist/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="../../static/bower_components/jquery-ui/jquery-ui.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="../../static/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Morris.js charts -->
<script src="../../static/bower_components/raphael/raphael.min.js"></script>
<script src="../../static/bower_components/morris.js/morris.min.js"></script>
<!-- Sparkline -->
<script src="../../static/bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script src="../../static/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="../../static/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script src="../../static/bower_components/jquery-knob/dist/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="../../static/bower_components/moment/min/moment.min.js"></script>
<script src="../../static/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script src="../../static/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="../../static/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script src="../../static/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="../../static/bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="../../static/dist/js/adminlte.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="../../static/dist/js/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../../static/dist/js/demo.js"></script>

<script src="../../static/dist/js/app.js"></script>


<script>
    $(function () {
        let currUrl= document.location.pathname;
        console.log(currUrl);
        $.ajax({
            url:"/system/resourcePage",
            type:"POST",
            contentType:"application/json",
            dataType: "json",
            success:function (d)  {
                if(d.code!=="200"){
                    alert(d.message);
                }
                let data=d.data;
                let preData= [];
                let cData= [];
                for (let i = 0; i < data.length; i++) {
                    if(data[i].resParentId===0){
                        preData.push(data[i]);
                    }else{
                        cData.push(data[i]);
                    }
                }

                let html=[];
                html.push('<li class="header">MAIN NAVIGATION</li>')
                for (let i = 0; i <preData.length; i++) {
                    let htmlEnum=[];
                    htmlEnum.push(" <ul class=\"treeview-menu\">");
                    let active=false;
                    for (let j = 0; j < cData.length; j++) {
                        if(cData[j].resParentId==preData[i].id){
                            let css="";
                            if(cData[j].resUrl===currUrl){
                                css="active";
                                active=true;
                            }
                            htmlEnum.push(" <li class='"+css+"'><a href=\""+cData[j].resUrl+"\"><i class=\"fa fa-circle-o\"></i>"+cData[j].resName+"</a></li>\n");
                        }
                    }
                    htmlEnum.push("</ul>\n");

                    if(active){
                        html.push("<li class=\"treeview active menu-open\">")
                    }else {
                        html.push(" <li class=\"treeview\">")
                    }

                    html.push(" <a href=\"#\"><i class=\"fa fa-dashboard\"></i>\n" +
                        "                        <span>"+preData[i].resName+"</span>\n" +
                        "                        <span class=\"pull-right-container\">\n" +
                        "                            <i class=\"fa fa-angle-left pull-right\"></i>\n" +
                        "                        </span>\n" +
                        "                    </a>")

                    html.push(htmlEnum.join(""));
                    html.push("</li>\n")
                }

                let a=html.join("");
                $("#menu").html(a);

            }

        })

    })
</script>


    <!-- DataTables -->
    <script src="../../static/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../../static/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="../../static/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="../../static/bower_components/bootstrap-datepicker/dist/locales/bootstrap-datepicker.zh-CN.min.js"></script>

    <script src="../../static/plugins/bootstrap-treeview/js/bootstrap-treeview.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../static/plugins/ValidForm/Validform_v5.3.2.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../static/plugins/WebUploader/webuploader.min.js"></script>
    <script src="../../static/dist/js/regionSelection.js"></script>

    <script type="text/javascript">
        var oTable;
        var departments = [];

        $(function () {
            // loadDepartments();

            // oTable = $('#datalist').DataTable({
            //     autoWidth: true,
            //     deferRender: true,
            //     ordering: false,
            //     searching: false,
            //     bFilter: false,
            //     bLengthChange: false,
            //     ajax: {
            //         url: "/organization/pageStaff",
            //         type: "POST",
            //         data: function (d) {
            //             d.name = $('#name').val();
            //             d.mobile = $('#mobile').val();
            //             d.departmentId = $('#searchDepartmentId').val();
            //         }
            //     },
            //     columns: [
            //         {data: 'id'},
            //         {data: 'staffName'},
            //         {data: 'staffIdentityCard'},
            //         {data: 'staffSex'},
            //         {data: 'staffJobNo'},
            //         {data: 'staffJob'},
            //         {data: 'staffJobType'},
            //         {data: 'staffTel'},
            //         {data: 'staffAvatar'},
            //         {data: 'departmentName'}
            //     ],
            //     columnDefs: [
            //         {
            //             targets: 0,
            //             data: "id",
            //             render: function (data, type, row, meta) {
            //                 var html = [];
            //                 html.push('<input type="checkbox" name="id" value="' + row.id + '">');
            //                 return html.join('');
            //             }
            //         },
            //         {
            //             targets: 3,
            //             data: "staffSex",
            //             render: function (data, type, row, meta) {
            //                 return data == 0 ? "女" : "男";
            //             }
            //         },
            //         {
            //             targets: 6,
            //             data: "staffJobType",
            //             render: function (data, type, row, meta) {
            //                 if (data == 1)
            //                     return "普通员工";
            //                 if (data == 2)
            //                     return "主管";
            //                 if (data == 3)
            //                     return "经理";

            //                 return "";
            //             }
            //         },
            //         {
            //             targets: 8,
            //             data: "staffAvatar",
            //             render: function (data, type, row, meta) {
            //                 var html = [];
            //                 html.push('<a href="' + data + '" title="点击查看大图" target="_blank">');
            //                 html.push('<img id="img_logo" src="' + data + '" style="width: 50px;" alt="头像" />');
            //                 html.push('</a>');
            //                 return html.join('');
            //             }
            //         },
            //         {
            //             targets: 10,
            //             data: "state",
            //             render: function (data, type, row, meta) {

            //                 if (row.state == 1) {
            //                     return '<a href="javascript:;" func="btnState" data-id="' + row.id + '" data-state="2" title="点击启用"><i class="fa fa-eye-slash"></i>&nbsp;已禁用</a>';
            //                 } else {
            //                     return '<a href="javascript:;" func="btnState" data-id="' + row.id + '" data-state="1" title="点击禁用"><i class="fa fa-eye"></i>&nbsp;已启用</a>';
            //                 }
            //             }
            //         },
            //         {
            //             targets: 11,
            //             data: "id",
            //             render: function (data, type, row, meta) {
            //                 var html = [];
            //                 html.push('<a href="javascript:;" func="btnEdit" data-id="' + row.id + '" class="active" title="编辑"><i class="fa fa-edit"></i>编辑</a> ');
            //                 html.push('<a href="javascript:;" func="del" data-id="' + row.id + '" class="active" title="删除"><i class="fa fa-trash"></i>删除</a>');
            //                 return html.join('');
            //             }
            //         }
            //     ],
            //     language: {
            //         "sProcessing": "处理中...",
            //         "sLengthMenu": "显示 _MENU_ 项结果",
            //         "sZeroRecords": "没有匹配结果",
            //         "sInfo": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
            //         "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
            //         "sInfoFiltered": "(由 _MAX_ 项结果过滤)",
            //         "sInfoPostFix": "",
            //         "sSearch": "搜索:",
            //         "sUrl": "",
            //         "sEmptyTable": "暂无数据",
            //         "sLoadingRecords": "载入中...",
            //         "sInfoThousands": ",",
            //         "oPaginate": {
            //             "sFirst": "首页",
            //             "sPrevious": "上页",
            //             "sNext": "下页",
            //             "sLast": "末页"
            //         },
            //         "oAria": {
            //             "sSortAscending": ": 以升序排列此列",
            //             "sSortDescending": ": 以降序排列此列"
            //         }
            //     }
            // });

            //设置状态
            // $('body').on('click', '[func=btnState]', function () {
            //     debugger
            //     var id = $(this).data('id');
            //     var state = $(this).data('state');
            //     $.post('/organization/setStaffState', {id: id, state: state}, function (res) {
            //         if (res.code != '200') {
            //             iDialog.alert(res.message);
            //         } else {
            //             oTable.clear();
            //             oTable.ajax.reload();
            //         }
            //     });
            // });

            $('body').on('click', '[func=del]', function () {
                var id = $(this).data('id');
                var ele = $(this);

                //idialog弹出提示
                iDialog.confirm({message: '确认要删除当前记录吗？'}).on(function (flag) {
                    if (flag) {
                        richAjax({ids: id}, '/organization/delStaff', true, true, true).Do(ele, function (data) {
                            if (data.message) {
                                iDialog.alert({message: data.message}).on(function (ok) {
                                    if (ok) {
                                        if (data.code == '200') {
                                            oTable.clear();
                                            oTable.ajax.reload();
                                        }
                                    }
                                })
                            }
                        });
                    }
                });
            });

            // $('#department,#departmentName').click(function () {
            //     var that = $(this);
            //     var name = that.data("name");
            //     var idName = that.data("idname");

            //     var options = {
            //         bootstrap2: false,
            //         showTags: true,
            //         levels: 5,
            //         showCheckbox: true,
            //         // checkedIcon: "glyphicon glyphicon-check",
            //         data: departments,
            //         onNodeSelected: function (event, data) {
            //             $('#' + idName).val(data.id);
            //             that.val(data.text);
            //             $("#" + name).hide();
            //         }
            //     };

            //     $("#" + name).treeview(options);
            //     $("#" + name).show();
            // });

            // $('[func=btnBatchDelete]').click(function () {
            //     var cks = $('input[type=checkbox][name=id]:checked');
            //     var ids = "";
            //     if (cks.length > 0) {

            //         cks.each(function (index, cur) {
            //             if (ids !== "") {
            //                 ids += ",";
            //             }
            //             ids += $(cur).val();
            //         });
            //     } else {
            //         iDialog.alert("请选择要删除的数据");
            //         return;
            //     }

            //     var ele = $(this);
            //     iDialog.confirm({message: '确认要删除选中的这些记录吗？'}).on(function (flag) {
            //         if (flag) {
            //             richAjax({ids: ids}, '/organization/delStaff', true, true, true).Do(ele, function (data) {
            //                 if (data.message) {
            //                     iDialog.alert({message: data.message}).on(function (ok) {
            //                         if (ok) {
            //                             if (data.code == '200') {
            //                                 oTable.clear();
            //                                 oTable.ajax.reload();
            //                             }
            //                         }
            //                     })
            //                 }
            //             });
            //         }
            //     });
            // });

            // $('#btnSearch').click(function () {
            //     oTable.clear();
            //     oTable.ajax.reload();
            // });

            //全选反选
            $('#selectAll').click(function () {
                if (this.checked) {
                    $('[name=id]').prop("checked", true);
                } else {
                    $('[name=id]').prop("checked", false);
                }
            });

            //添加或编辑
            $('body').on('click', '[func=btnAdd],[func=btnEdit]', function () {
                $("#frmInfo1")[0].reset();

                var id = $(this).data('id');
                if (id != undefined && id != null && id > 0) {
                    //todo:获取物料信息
                    // $.post('/organization/getStaff', {id: id}, function (res) {
                    //     if (res.code != '200') {
                    //         iDialog.alert(res.message);
                    //     } else {
                    //         if (res.data && res.data.staff) {
                    //             $('#id').val(res.data.staff.id);
                    //             $('#staffName').val(res.data.staff.staffName);
                    //             $('#departmentId').val(res.data.staff.departmentId);
                    //             $('#departmentName').val(res.data.departmentName);
                    //             $('#staffIdentityCard').val(res.data.staff.staffIdentityCard);
                    //             $('#staffTel').val(res.data.staff.staffTel);
                    //             $('#staffAge').val(res.data.staff.staffAge);
                    //             $('#staffJobAge').val(res.data.staff.staffJobAge);
                    //             $('#staffSex').val(res.data.staff.staffSex);
                    //             $('#staffEducation').val(res.data.staff.staffEducation);
                    //             $('#staffJobType').val(res.data.staff.staffJobType);
                    //             $('#staffJob').val(res.data.staff.staffJob);
                    //             $('#staffJobNo').val(res.data.staff.staffJobNo);
                    //             $('#staffPoliticalIdentity').val(res.data.staff.staffPoliticalIdentity);
                    //             $('#staffCensusNature').val(res.data.staff.staffCensusNature);
                    //             $('#staffMarryState').val(res.data.staff.staffMarryState);
                    //             $('#staffContractStart').val(res.data.staffContractStart);
                    //             $('#staffContractEnd').val(res.data.staffContractEnd);
                    //             $('#a_logo').attr('href', res.data.staff.staffAvatar);
                    //             $('#img_logo').val('src', res.data.staff.staffAvatar);
                    //             $('#staffAvatar').val(res.data.staff.staffAvatar);

                    //             $('#staffSocialSecurity').val(res.data.staff.staffSocialSecurity);
                    //             if (res.data.staff.staffSocialSecurity == 1)
                    //                 $('#staffSocialSecurity').prop("checked", true);
                    //             else
                    //                 $('#staffSocialSecurity').prop("checked", false);

                    //             $('#staffProvidentFund').val(res.data.staff.staffProvidentFund);
                    //             if (res.data.staff.staffProvidentFund == 1)
                    //                 $('#staffProvidentFund').prop("checked", true);
                    //             else
                    //                 $('#staffProvidentFund').prop("checked", false);

                    //             $('#staffLabourUnion').val(res.data.staff.staffLabourUnion);
                    //             if (res.data.staff.staffLabourUnion == 1)
                    //                 $('#staffLabourUnion').prop("checked", true);
                    //             else
                    //                 $('#staffLabourUnion').prop("checked", false);

                    //             $("#region").regionSelection({
                    //                 //省份下拉框id
                    //                 el_prov_id: "staffProvinceCode",
                    //                 //城市下拉框选择器
                    //                 el_city_id: "staffCityCode",
                    //                 //区域下拉框选择器
                    //                 el_county_id: "staffCountyCode",
                    //                 //数据源请求地址
                    //                 data_request_url: '/kit/region',
                    //                 //下拉选择样式
                    //                 class_name: "form-control",
                    //                 //当前选中省份
                    //                 prov_code: res.data.staff.staffProvinceCode,
                    //                 //当前选中的城市
                    //                 city_code: res.data.staff.staffCityCode,
                    //                 //当前选中的地区
                    //                 county_code: res.data.staff.staffCountyCode
                    //             });

                    //             $('#staffAddress').val(res.data.staff.staffAddress);
                    //             $('#remark').val(res.data.staff.remark);
                    //             $('#state').val(res.data.staff.state);
                    //         }

                    //         $('#organization').modal();
                    //     }
                    // });
                    $('#organization').modal();
                } else {
                    $('#organization').modal();
                }
            });

            // $('.staff_checkbox').change(function () {
            //     if ($(this).is(':checked')) {
            //         $(this).val(1);
            //     } else {
            //         $(this).val(0);
            //     }
            // });

            //初始化时间控件
            // $(".datepicker_start").datepicker({
            //     autoclose: true,
            //     todayHighlight: true,
            //     language: "zh-CN",
            //     format: "yyyy-mm-dd"
            // }).on('changeDate', function (ev) {
            //     $('.datepicker_end').datepicker('setStartDate', ev.date);
            // });
            // $(".datepicker_end").datepicker({
            //     autoclose: true,
            //     todayHighlight: true,
            //     language: "zh-CN",
            //     format: "yyyy-mm-dd"
            // }).on('changeDate', function (ev) {
            //     $('.datepicker_start').datepicker('setStartDate', ev.date);
            //     $('.datepicker_end').datepicker('setStartDate', new Date());
            // });

            //初始化区域选择
            // $("#region").regionSelection({
            //     //省份下拉框id
            //     el_prov_id: "staffProvinceCode",
            //     //城市下拉框选择器
            //     el_city_id: "staffCityCode",
            //     //区域下拉框选择器
            //     el_county_id: "staffCountyCode",
            //     //数据源请求地址
            //     data_request_url: '/kit/region',
            //     //下拉选择样式
            //     class_name: "form-control",
            //     //当前选中省份
            //     prov_code: '',
            //     //当前选中的城市
            //     city_code: '',
            //     //当前选中的地区
            //     county_code: ''
            // });

            //初始化验证表单
            // $("#frmInfo1").Validform({
            //     btnSubmit: "[func=btnSaveStaff]",
            //     tiptype: 4,
            //     label: ".label",
            //     showAllError: false,
            //     postonce: true,
            //     ajaxPost: true,
            //     beforeSubmit: function (call_data) {
            //         var form_datas = $("#frmInfo1").serialize();

            //         $.post('/organization/saveStaff', form_datas, function (r) {
            //             if (r.message) {
            //                 iDialog.alert({message: r.message}).on(function (ok) {
            //                     if (r.code == '200') {
            //                         oTable.clear();
            //                         oTable.ajax.reload();
            //                         $("#frmInfo1")[0].reset();
            //                         $('#organization').modal('hide');
            //                     }
            //                 });
            //             }
            //         });
            //         return false;
            //     }
            // });
        });

        // function loadDepartments() {
        //     $.ajax({
        //         type: 'post',
        //         url: '/organization/getDepartments',
        //         data: {name: ''},
        //         dataType: "json",
        //         success: function (res) {
        //             if (res.code == '200') {
        //                 departments = getDepartmentsByPid(res.data, 0);
        //             }
        //         }
        //     });
        // }

        // function getDepartmentsByPid(datas, pid) {
        //     var list = [];

        //     for (var i = 0; i < datas.length; i++) {
        //         if (datas[i].departmentPid == pid)
        //             list.push(datas[i]);
        //     }

        //     var newList = [];
        //     if (list != null && list.length > 0) {
        //         for (var i = 0; i < list.length; i++) {
        //             var node = {
        //                 id: list[i].id,
        //                 text: list[i].departmentName,
        //                 nodes: getDepartmentsByPid(datas, list[i].id)
        //             };
        //             newList.push(node);
        //         }
        //     }

        //     return newList;
        // }
    </script>



<div class="jvectormap-label"></div></body></html>